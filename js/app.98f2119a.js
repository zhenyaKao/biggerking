(function(t){function e(e){for(var n,r,c=e[0],i=e[1],f=e[2],d=0,l=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&l.push(a[r][0]),a[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(l.length)l.shift()();return o.push.apply(o,f||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,c=1;c<s.length;c++){var i=s[c];0!==a[i]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},a={app:0},o=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/biggerking/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var f=0;f<c.length;f++)e(c[f]);var u=i;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0508":function(t,e,s){t.exports=s.p+"img/ketchup.04fc4232.svg"},"188c":function(t,e,s){t.exports=s.p+"img/ham.3e976227.svg"},1979:function(t,e,s){t.exports=s.p+"img/mayonnaise.039bb137.svg"},"1a7e":function(t,e,s){t.exports=s.p+"img/cucumber.1acabc1d.svg"},"1a94":function(t,e,s){t.exports=s.p+"img/lettuce.8d859a17.svg"},"24ee":function(t,e,s){t.exports=s.p+"img/burger_top.4b5adeee.svg"},"30fe":function(t,e,s){t.exports=s.p+"img/burger_bottom.c3d74574.svg"},3654:function(t,e,s){"use strict";s("caba")},"37ca":function(t,e,s){t.exports=s.p+"img/onion.df950da8.svg"},4618:function(t,e,s){"use strict";s("fc03")},4670:function(t,e,s){t.exports=s.p+"img/cheese.d02f5053.svg"},4678:function(t,e,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=o(t);return s(e)}function o(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=o,t.exports=a,a.id="4678"},"4a9b":function(t,e,s){t.exports=s.p+"img/iphone_mockup.679d5edb.svg"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("4de4"),s("d3b7"),s("ac1f"),s("466d");var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],r={name:"App",data:function(){return{}}},c=r,i=(s("cf25"),s("2877")),f=Object(i["a"])(c,a,o,!1,null,null,null),u=f.exports,d=s("8c4f"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("div",{staticClass:"customer"},[s("div",{staticClass:"mock_up"},[s("div",{staticClass:"iphone"},[s("MainView")],1)])]),s("div",{staticClass:"business"},[s("StockView"),s("OrderView")],1)])},b=[],p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main_view"},[s("div",{staticClass:"title"},[s("h1",[t._v("BiggerKING")]),0==this.$store.state.foodList.length?s("h2",[t._v(" 哈囉！歡迎光臨！ ")]):t._e(),0==this.$store.state.foodList.length?s("p",[t._v(" 每份漢堡包含麵包基底$20元，"),s("br"),t._v(" 其餘配料價格請見點餐區。"),s("br"),t._v(" 配料可點選多份，歡迎任意搭配！ ")]):t._e()]),s("Burger"),s("Price"),s("Menu")],1)},h=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"burger"},[t._m(0),t._l(this.$store.state.foodList,(function(e){return n("div",{key:e.name},[n("span",{attrs:{price:e.price}},[t._v(t._s(e.name)+" "),e.quantity>1?n("i",[t._v("x "+t._s(e.quantity))]):t._e()]),n("img",{attrs:{src:t._f("imgUrl")(e.img),alt:""}})])})),n("div",{style:{animationName:t.animationName}},[n("img",{attrs:{src:s("24ee"),alt:""}})])],2)},g=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{attrs:{src:s("30fe"),alt:""}})])}],j={data:function(){return{animationName:""}},watch:{"$store.state.foodList.length":function(t){var e=this;this.animationName="",setInterval((function(){e.animationName="shakeBurger"}),100)}},methods:{getImgUrl:function(t){return s("f57b")("./".concat(t,".svg"))}}},v=j,_=(s("b455"),Object(i["a"])(v,m,g,!1,null,null,null)),k=_.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"price"},[s("div",[s("span",[t._v("Total:")]),s("h3",[t._v("$"+t._s(t.totalPrice+20)+" "),s("small",[t._v("($20 + $"+t._s(t.totalPrice)+")")])])]),s("button",{attrs:{disabled:0==this.$store.state.foodList.length},on:{click:function(e){t.sendOrder(t.totalPrice),t.editStock()}}},[t._v(" 送出")])])},$=[],w=(s("159b"),s("b0c0"),s("7db0"),{computed:{totalPrice:function(){var t=0;return this.$store.state.foodList.forEach((function(e){t+=e.price*e.quantity})),t}},methods:{sendOrder:function(t){for(var e=this,s=[],n=0;n<this.$store.state.foodList.length;n++)for(var a=0;a<this.$store.state.foodList[n].quantity;a++)s.push(this.$store.state.foodList[n].name);this.$http.post("orders",{foodList:s,totalPrice:t+20}).then((function(t){e.$store.state.foodList=[]})).catch((function(t){console.log(t)}))},editStock:function(){for(var t=this,e=this.$store.state.foodList,s=function(s){t.$http.put("products",{name:e[s].name,stock:-e[s].quantity}).then((function(n){t.$store.state.products.find((function(t){return t.name===e[s].name})).stock=n.data.stock})).catch((function(t){console.log(t)}))},n=0;n<e.length;n++)s(n)}}}),x=w,O=(s("895c"),Object(i["a"])(x,y,$,!1,null,null,null)),z=O.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu"},t._l(this.$store.state.products,(function(e){return s("button",{key:e.name,attrs:{price:e.price,disabled:t.clickTime[e.name]>=e.stock},on:{click:function(s){return t.add(e.name,e.price,e.img)}}},[s("i",[s("img",{attrs:{src:t._f("imgUrl")(e.img)}})]),s("span",[t._v(t._s(e.name))]),t._v("|"+t._s(e.price)+" ")])})),0)},C=[],E={data:function(){return{clickTime:{"肉排":0,"培根":0,"火腿":0,"起司":0,"小黃瓜":0,"蛋":0,"生菜":0,"洋蔥":0,"番茄":0,"番茄醬":0,"美乃滋":0,"芥末":0}}},created:function(){this.getData()},methods:{add:function(t,e,s){this.$store.state.foodList.some((function(e){return e.name===t}))?this.$store.state.foodList.find((function(e){return e.name===t})).quantity+=1:this.$store.state.foodList.push({name:t,price:e,img:s,quantity:1}),this.clickTime[t]++},getData:function(){var t=this;this.$http.get("products").then((function(e){t.$store.state.products=e.data})).catch((function(t){console.log(t)}))}}},P=E,S=(s("4618"),Object(i["a"])(P,L,C,!1,null,null,null)),D=S.exports,M={components:{Burger:k,Price:z,Menu:D}},N=M,T=(s("a718"),Object(i["a"])(N,p,h,!1,null,null,null)),U=T.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stock_view"},[s("h2",[t._v("庫存管理")]),s("table",{staticClass:"table"},[t._m(0),s("tbody",t._l(this.$store.state.products,(function(e){return s("tr",{key:e.name},[s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.price))]),s("td",[t._v(t._s(e.stock)+" "),s("div",{staticClass:"button_group"},[s("button",{attrs:{disabled:e.stock>=9},on:{click:function(s){return t.editStock(e.name,1)}}},[t._v("＋")]),s("button",{attrs:{disabled:0==e.stock},on:{click:function(s){return t.editStock(e.name,-1)}}},[t._v("－")])])])])})),0)])])},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("品項")]),s("th",[t._v("售價")]),s("th",[t._v("庫存")])]),s("tr",[s("th",[t._v("品項")]),s("th",[t._v("售價")]),s("th",[t._v("庫存")])])])}],V={created:function(){this.getData()},methods:{getData:function(){var t=this;this.$http.get("products").then((function(e){t.$store.state.products=e.data})).catch((function(e){t.setTestFildError(!1,e)}))},editStock:function(t,e){var s=this;this.$http.put("products",{name:t,stock:e}).then((function(e){s.$store.state.products.find((function(e){return e.name===t})).stock=e.data.stock})).catch((function(t){console.log(t)}))}}},B=V,H=(s("66f2"),Object(i["a"])(B,q,F,!1,null,null,null)),I=H.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order"},[s("h2",[t._v("訂單管理")]),s("table",[s("tbody",t._l(this.pageShow,(function(e){return s("tr",{key:e._id},[s("td",[s("div",[t._v(t._s(t._f("idFormat")(e._id)))]),s("span",[t._v(t._s(t._f("dateFormat")(e.date)))])]),s("td",[s("h4",[t._v("$"+t._s(e.totalPrice))]),s("h6",[t._v("($20+$"+t._s(e.totalPrice-20)+")")])]),s("td",t._l(e.foodList,(function(e,n,a){return s("span",{key:a,staticClass:"label"},[t._v(" "+t._s(n)+" x"+t._s(e)+" ")])})),0)])})),0)]),t.pagesLength>1?s("v-pagination",{attrs:{length:t.pagesLength},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)},A=[],G=(s("fb6a"),{data:function(){return{orders:[],page:1}},computed:{pagesLength:function(){return Math.floor((this.orders.length-1)/5)+1},pageShow:function(){return this.orders.slice(5*(this.page-1),5*(this.page-1)+5)}},created:function(){this.getOrderData()},watch:{"$store.state.foodList.length":function(t){0===t&&this.getOrderData()}},methods:{getOrderData:function(){var t=this;this.$http.get("orders").then((function(e){t.orders=e.data;for(var s=0;s<e.data.length;s++){for(var n=e.data[s].foodList,a={},o=0;o<n.length;o++)a[n[o]]?a[n[o]]++:a[n[o]]=1;t.orders[s].foodList=a}})).catch((function(t){console.log(t)}))}}}),J=G,K=(s("e0f7"),s("6544")),R=s.n(K),W=s("891e"),Q=Object(i["a"])(J,Y,A,!1,null,null,null),X=Q.exports;R()(Q,{VPagination:W["a"]});var Z={name:"Home",components:{MainView:U,StockView:I,OrderView:X}},tt=Z,et=(s("3654"),Object(i["a"])(tt,l,b,!1,null,null,null)),st=et.exports;n["a"].use(d["a"]);var nt=[{path:"/",name:"Home",meta:{title:"BiggerKING"},get component(){return window.outerWidth>=1024||window.outerHeight>=1024?st:U}}],at=new d["a"]({mode:"history",base:"/biggerking/",routes:nt});at.beforeEach((function(t,e,s){window.document.title=t.meta.title,s()}));var ot=at,rt=s("2f62");n["a"].use(rt["a"]),n["a"].filter("imgUrl",(function(t){return s("f57b")("./".concat(t,".svg"))}));var ct=new rt["a"].Store({state:{foodList:[],products:[]},mutations:{},actions:{},modules:{}}),it=s("bc3a"),ft=s.n(it),ut=s("7f45"),dt=s.n(ut),lt=s("f309");n["a"].use(lt["a"]);var bt=new lt["a"]({});n["a"].config.productionTip=!1,n["a"].prototype.$http=ft.a,ft.a.defaults.baseURL="https://biggerking.herokuapp.com/api",window.onresize=function(){location.reload()},n["a"].filter("dateFormat",(function(t){return dt.a.tz(t,"Asia/Taipei").format("YYYY/MM/DD HH:mm:ss")})),n["a"].filter("idFormat",(function(t){var e=/.{8}$/;return t.match(e)[0].toUpperCase()})),new n["a"]({router:ot,store:ct,vuetify:bt,render:function(t){return t(u)}}).$mount("#app")},"5fa8":function(t,e,s){},6231:function(t,e,s){t.exports=s.p+"img/pork.cba5d2a3.svg"},"66f2":function(t,e,s){"use strict";s("5fa8")},"6f4f":function(t,e,s){t.exports=s.p+"img/mustard.9509b2ea.svg"},7480:function(t,e,s){t.exports=s.p+"img/iphone_bangs.11660a61.svg"},"895c":function(t,e,s){"use strict";s("cd5a")},"8eed":function(t,e,s){},a718:function(t,e,s){"use strict";s("d874")},b455:function(t,e,s){"use strict";s("fc5a")},bf61:function(t,e,s){t.exports=s.p+"img/egg.63f98b32.svg"},caba:function(t,e,s){},cd5a:function(t,e,s){},cf25:function(t,e,s){"use strict";s("fea6")},d874:function(t,e,s){},e0f7:function(t,e,s){"use strict";s("8eed")},ecba:function(t,e,s){t.exports=s.p+"img/bacon.f9cb8ef3.svg"},f57b:function(t,e,s){var n={"./bacon.svg":"ecba","./burger_bottom.svg":"30fe","./burger_top.svg":"24ee","./cheese.svg":"4670","./cucumber.svg":"1a7e","./egg.svg":"bf61","./ham.svg":"188c","./iphone_bangs.svg":"7480","./iphone_mockup.svg":"4a9b","./ketchup.svg":"0508","./lettuce.svg":"1a94","./mayonnaise.svg":"1979","./mustard.svg":"6f4f","./onion.svg":"37ca","./pork.svg":"6231","./tomato.svg":"ff38"};function a(t){var e=o(t);return s(e)}function o(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=o,t.exports=a,a.id="f57b"},fc03:function(t,e,s){},fc5a:function(t,e,s){},fea6:function(t,e,s){},ff38:function(t,e,s){t.exports=s.p+"img/tomato.972d84d5.svg"}});
//# sourceMappingURL=app.98f2119a.js.map